WEBVTT
Kind: captions
Language: ar

00:00:00.260 --> 00:00:04.120
بسم الله الرحمن الرحيم السلام عليكم و رحمه الله وبركاته

00:00:04.360 --> 00:00:06.660
مشروع اليوم وهو طريقه قراءه

00:00:06.912 --> 00:00:09.216
الباركود من خلال الكاميرا

00:00:09.984 --> 00:00:12.544
مثلا لدينا هذا المشروع المصغر

00:00:13.056 --> 00:00:14.592
يحتوي على كومبو بوكس

00:00:15.104 --> 00:00:16.128
بامكانك اختيار

00:00:16.384 --> 00:00:22.016
الكاميرا في حاله لو كان لديك اكثر من كاميرا تقوم بتشغيلها على جهاز الكمبيوتر

00:00:22.784 --> 00:00:27.648
من خلال هذه القائمه سوف  تقوم بتحديد الكاميرا التي تريد تشغيلها

00:00:27.904 --> 00:00:30.720
وعند الضغط على هذا الزر فانه يبدا

00:00:30.976 --> 00:00:32.768
تصوير او يبدا التقاط

00:00:33.024 --> 00:00:33.792
الصور من خلال

00:00:34.048 --> 00:00:35.584
الكاميرا التي تم اختيارها

00:00:35.840 --> 00:00:41.984
وعندما يمر باركود او ورقم باركود على الكاميرا فانه يتم التقاط هذا

00:00:42.240 --> 00:00:46.840
الباركود ويتم كتابته بداخل هذا المربع او بداخل التكست بوكس

00:00:47.100 --> 00:00:48.300
هذا التكست بوكس

00:00:48.900 --> 00:00:52.740
سنقوم بالتجربه الان عند الضغط على التشغيل فان الكاميرا

00:00:52.992 --> 00:00:53.504
ستعمل

00:00:53.760 --> 00:00:54.784
وعند مرور

00:00:55.552 --> 00:01:01.440
رقم او باركود فانه يتم كما نلاحظ هنا يتم كتابه هذا الباركود في داخل

00:01:01.696 --> 00:01:03.232
هذا التكست بوكس

00:01:04.000 --> 00:01:08.864
ومن اجل تصميم مشروع كهذا المشروع اولا نقوم بايقاف تشغيل هذا

00:01:09.120 --> 00:01:11.680
المشروع ونقوم بتصغيره الى الاسفل

00:01:12.448 --> 00:01:14.496
ونقوم بتشغيل برنامج فيجوال

00:01:14.752 --> 00:01:16.800
ستوديو ثم  مشروع جديد

00:01:17.568 --> 00:01:21.152
ونحدد نوع المشروع طبعا سيكون فيجوال سي شارب

00:01:21.408 --> 00:01:22.432
ويندوز فورم ابليكيشن

00:01:22.680 --> 00:01:24.980
ونقوم بتسميته كما نريد

00:01:25.380 --> 00:01:26.520
و موافق

00:01:26.784 --> 00:01:32.928
وننتظر  حتى يتم تحميل المشروع بعد اكتمال تحميل المشروع نقوم بجلب العناصر

00:01:33.184 --> 00:01:36.256
التي نحتاج اليها طبعا نحتاج الى كومبوبوكس

00:01:36.768 --> 00:01:38.048
طبعا هذا الكومبوبوكس

00:01:38.304 --> 00:01:42.400
سيعرض لي اسماء الاجهزه او اسماء الكاميرات

00:01:42.656 --> 00:01:44.192
المتصلة  بهذا الجهاز

00:01:44.448 --> 00:01:46.240
ونحتاج ايضا الى مربع صورة

00:01:46.752 --> 00:01:48.032
وظيفه مربع الصورة

00:01:48.280 --> 00:01:50.580
طبعا هي عرض الصوره الملتقطة

00:01:50.760 --> 00:01:52.140
من الكاميرا

00:01:52.640 --> 00:01:54.432
ونحتاج ايضا الى تكست بوكس

00:01:54.688 --> 00:01:56.992
حتى يتم كتابه الباركود

00:01:57.248 --> 00:01:57.760
بداخله

00:01:58.016 --> 00:02:00.320
ونحتاج ايضا الى زر

00:02:00.832 --> 00:02:03.904
هذا الزر سيتم من خلاله تشغيل

00:02:04.160 --> 00:02:04.672
الكاميرا

00:02:05.184 --> 00:02:06.720
اذاً نحتاج الى زر

00:02:08.760 --> 00:02:14.900
طبعا نحتاج الى ملصق  لتسميه هذه العناصر لكن انا لن أقوم باستدعاء أي ملصق بامكانك

00:02:14.960 --> 00:02:16.320
انت اضافة هذه الملصقات

00:02:16.440 --> 00:02:21.200
طبعا ساقوم بتكبير الحجم قليلا هنا حتى تظهر في التصوير

00:02:21.320 --> 00:02:23.360
مثلا سيكون بهذا الحجم

00:02:26.680 --> 00:02:30.520
الان نحن بحاجه الى مكتبتين المكتبه الاولى من اجل

00:02:30.784 --> 00:02:32.832
عرض الفيديو من خلال الكاميرا

00:02:33.340 --> 00:02:34.880
والمكتبه الاخرى

00:02:35.140 --> 00:02:37.440
سنستعين بها حتى نقوم

00:02:37.700 --> 00:02:40.260
باستخراج الباركود من خلال الصوره

00:02:40.520 --> 00:02:45.980
نذهب الى اسم المشروع نضغط الزر الايمن ثم manage nuget package

00:02:46.660 --> 00:02:47.940
ثم من الخيار استعراض

00:02:48.192 --> 00:02:50.496
نقوم باختيار المكتبه الاولى وهي

00:02:50.760 --> 00:02:51.600
zxing

00:02:52.040 --> 00:02:53.840
نقوم بتحميلها zxing.net

00:02:54.080 --> 00:02:59.712
نقوم بتثبيتها  ثم انتظر هنا و وافق على الرسائل التي تظهر

00:03:03.296 --> 00:03:05.600
تم تحميل المكتبه بنجاح

00:03:06.360 --> 00:03:09.440
والمكتبه الاخرى وهي خاصه

00:03:09.700 --> 00:03:11.500
باستعراض الكاميرا وهي

00:03:11.740 --> 00:03:12.600
aforge

00:03:13.280 --> 00:03:14.300
هذه هي

00:03:15.840 --> 00:03:17.380
نقوم الان بتحميلها

00:03:18.400 --> 00:03:20.960
aforge.video.directshow

00:03:21.140 --> 00:03:22.500
نقوم بتثبيتها

00:03:22.760 --> 00:03:24.800
ونوافق على الرسائل وننتظر

00:03:25.060 --> 00:03:26.600
حتى يتم تحميل هذه المكتبة

00:03:26.848 --> 00:03:28.640
لاحظوا هنا اكتمال

00:03:28.896 --> 00:03:33.248
الان نقوم باغلاق هذه لسنا بحاجه اليها ونعود الى

00:03:33.504 --> 00:03:34.016
المشروع

00:03:34.272 --> 00:03:36.576
الان نريد عند تشغيل هذا البرنامج

00:03:36.832 --> 00:03:41.184
ان يتم التعرف على اجهزه الكاميرا الموجوده على هذا الجهاز

00:03:41.440 --> 00:03:44.000
ويتم عرضها بداخل الكومبوبوكس

00:03:44.512 --> 00:03:45.536
دبل كليك على الفورم

00:03:45.792 --> 00:03:47.328
للحصول على الحدث الخاص

00:03:47.584 --> 00:03:48.864
في عند تحميل هذا

00:03:49.376 --> 00:03:55.008
الفورم قبل ذلك  نقوم باستدعاء المكتبه التي قمنا بتحميلها او المكتبتين

00:03:55.264 --> 00:03:57.568
الاولى وهي zxing

00:03:57.824 --> 00:04:00.384
وهي خاصه بالباركود اذاً using

00:04:02.180 --> 00:04:06.300
والمكتب الاخرى وهي خاصه بالفيديو using

00:04:06.420 --> 00:04:09.620
aforge.video.directshow

00:04:09.800 --> 00:04:15.740
الان نقوم بتعريف متغير هنا قبل الدخول الى الحدث الخاص عند تشغيل الفورم

00:04:16.000 --> 00:04:18.560
هذا المتغير من اجل الحصول على

00:04:18.815 --> 00:04:24.447
اسماء الديفايس او اسماء الاجهزه او اجهزه الكاميرا المتصله بهذا الجهاز

00:04:24.703 --> 00:04:25.983
طبعا سيكون فلتر

00:04:26.239 --> 00:04:27.007
انفو

00:04:27.263 --> 00:04:27.775
كلكشن

00:04:29.823 --> 00:04:31.871
ونسميه مثلا فلتر

00:04:32.127 --> 00:04:32.639
انفو

00:04:35.711 --> 00:04:41.599
الان في الحدث  عند تشغيل الفور نقوم باستدعاء هذا المتغير فلتر انفو

00:04:42.367 --> 00:04:45.695
ويساوي نيو فلتر انفو كولكشن

00:04:45.960 --> 00:04:47.480
ونفتح اقواس

00:04:47.740 --> 00:04:49.540
فلتر كاتجوري

00:04:49.800 --> 00:04:51.960
.video input device

00:04:52.360 --> 00:04:53.640
ونغلق هذا السطر

00:04:54.143 --> 00:04:54.911
الان من اجل

00:04:55.167 --> 00:05:01.311
استدعاء هذه الاسماء او اسماء الديفايس يجب علينا ان نقوم بانشاء loop

00:05:01.567 --> 00:05:06.175
او for each من اجل المرور على جميع هذه الاسماء نقوم بانشاء

00:05:06.440 --> 00:05:07.220
for each

00:05:07.960 --> 00:05:08.980
ونفتح اقواس

00:05:09.247 --> 00:05:10.527
وسيكون من نوع

00:05:10.783 --> 00:05:13.343
فلتر انفو ونسميه مثلا

00:05:13.599 --> 00:05:19.743
ديفايس على سبيل المثال سوف يمر على او in او سيبحث بداخل

00:05:19.999 --> 00:05:23.071
فلتر انفو  التي انشاناها هنا في الاعلى

00:05:23.583 --> 00:05:29.215
الان من خلال هذا for each عندما يمر على جميع اسماء الديفايس

00:05:29.480 --> 00:05:32.360
يجب ان يضعها بداخل الكومبو

00:05:32.540 --> 00:05:36.420
طبعا لدينا هنا كومبوبوكس هو اسمه كمبوبوكس1 اذاً

00:05:36.640 --> 00:05:37.480
كمبوبوكس1

00:05:37.660 --> 00:05:40.720
combobox1.items.add()

00:05:41.240 --> 00:05:43.280
سيتم اضافه الديفايس

00:05:43.560 --> 00:05:44.080
وهي نفسها

00:05:44.320 --> 00:05:47.900
foreach device ديفايس لكن نريد الاسم

00:05:48.060 --> 00:05:49.160
.name

00:05:51.480 --> 00:05:53.980
وحتى لا يكون الكومبوبوكس

00:05:54.300 --> 00:05:56.600
فارغاً عند تشغيل البرنامج

00:05:57.380 --> 00:06:03.000
سنقوم بتعيين القيمه الافتراضيه له لتكون هي index 0

00:06:03.220 --> 00:06:07.100
او اول قيمه او اول كاميرا يتم عرضها

00:06:07.620 --> 00:06:08.140
كومبو بوكس

00:06:08.639 --> 00:06:09.407
&rlm;one

00:06:09.663 --> 00:06:11.199
.selectedindex = 0

00:06:12.740 --> 00:06:14.380
صفر وهي اول قيمة

00:06:14.520 --> 00:06:20.160
الان نريد ان نرى ماذا سيحدث عندما نقوم بتشغيل سنقوم بالتجربه لاحظوا

00:06:20.927 --> 00:06:25.791
تم عرض الكاميرا الموجوده او لدي كاميرتين على هذا الجهاز

00:06:26.047 --> 00:06:27.327
هذه و هذه

00:06:28.095 --> 00:06:32.447
طبعا تم عرض الكاميرا الاولى مباشره في الكومبوبوكس لانني

00:06:32.703 --> 00:06:35.007
قمت بتحديد انه يجب عليه عرض

00:06:35.519 --> 00:06:38.591
الاندكس رقم صفر وهي اول كاميرا

00:06:39.359 --> 00:06:41.663
اذا هنا الامور تسير على ما يرام

00:06:42.431 --> 00:06:43.711
نقوم باغلاق هذا

00:06:44.223 --> 00:06:50.111
نريد الان ان يبدا بعرض الكاميرا عندما نقوم بالضغط على هذا الزر

00:06:50.623 --> 00:06:52.415
سنقوم بتسميته مثلا

00:06:52.927 --> 00:06:53.439
تشغيل

00:06:53.695 --> 00:06:55.231
عند الضغط على هذا الزر

00:06:55.480 --> 00:06:57.500
يجب ان يبدا بالتقاط

00:06:58.040 --> 00:07:00.340
صور من الكاميرا او يبدا عرض

00:07:00.607 --> 00:07:04.191
الكاميرا التي يتم تحديدها من خلال الكومبوبوكس

00:07:04.700 --> 00:07:08.280
سنقوم بانشاء متغير في الاعلى كما فعلنا هناك

00:07:09.420 --> 00:07:11.620
نريد متغير من نوع فيديو

00:07:12.127 --> 00:07:14.175
كابتشر او فيديو كابتشر

00:07:14.440 --> 00:07:18.700
ديفايس وسنسميه  مثلا فيديوكاب

00:07:19.560 --> 00:07:24.440
الان عند الضغط على زر تشغيل يجب ان يعمل هذا الفيديوكاب

00:07:24.640 --> 00:07:27.300
اذاً الفيديوكاب يساوي

00:07:28.340 --> 00:07:31.540
new videoCapturdevice

00:07:32.600 --> 00:07:38.740
ونحدد الكاميرا التي سيتم التقاط الصوره من خلالها طبعا هنا قمنا بانشاء متغير

00:07:39.007 --> 00:07:39.775
في الاعلى

00:07:40.031 --> 00:07:41.567
فلتر انفو كولكشن

00:07:41.823 --> 00:07:43.871
نقوم باخذ المتغير

00:07:44.127 --> 00:07:45.919
ونقوم بلصقه هنا

00:07:46.175 --> 00:07:47.455
وانقوم بكتابه

00:07:47.720 --> 00:07:53.560
اسم الكاميرا التي سيتم تشغيلها طبعا اسمها موجود بداخل كومبوبوكس1

00:07:53.820 --> 00:07:57.000
.selectedIndex

00:07:57.440 --> 00:07:58.980
طبعا ستكون

00:07:59.231 --> 00:07:59.999
.tostring

00:08:00.260 --> 00:08:01.840
او monikerstring

00:08:02.040 --> 00:08:03.840
ستجدها هنا من ضمن الخيارات

00:08:04.600 --> 00:08:06.000
ونغلق هذا السطر

00:08:06.140 --> 00:08:08.180
الان ومن اجل البدء

00:08:08.440 --> 00:08:09.720
بالتقاط الصوره ايضا

00:08:09.980 --> 00:08:12.540
فيديو كابتشر نقوم بنسخها ولصقها

00:08:12.800 --> 00:08:14.120
.newframe

00:08:14.340 --> 00:08:16.380
هنا نريد البدء باخذ

00:08:16.900 --> 00:08:17.420
frame

00:08:17.663 --> 00:08:19.711
طبعا هنا يجب انشاء method جديد

00:08:19.967 --> 00:08:23.551
زائد ويساوي عندما تضغط زائد يساوي سيقول لك

00:08:24.063 --> 00:08:27.135
قم بالضغط على tab لانشاء هذه method

00:08:27.391 --> 00:08:28.415
نقوم بالضغط على زر

00:08:28.671 --> 00:08:29.183
tab

00:08:29.439 --> 00:08:31.743
لاحظوا هناك تم انشاء method

00:08:31.999 --> 00:08:32.511
تلقائياً

00:08:32.767 --> 00:08:36.351
الان وقبل الذهاب الى method التي تم انشاؤها

00:08:36.607 --> 00:08:38.143
نقوم باغلاق هذه

00:08:39.423 --> 00:08:41.471
نقول انها فيديوكاب . start

00:08:41.720 --> 00:08:45.060
يجب عليه البدء بالالتقاط

00:08:45.320 --> 00:08:47.620
ونقوم باغلاق هذا السطر

00:08:48.127 --> 00:08:50.943
الان هذا method نقوم بالغاء هذه

00:08:51.720 --> 00:08:55.560
وانا اقوم بانشاء bitmap بما اننا سنتعامل مع صور اذا

00:08:55.940 --> 00:08:56.720
Bitmap

00:08:56.720 --> 00:08:58.720
ونسميها ايضا bitmap

00:08:59.900 --> 00:09:01.700
وسوف تساوي

00:09:01.960 --> 00:09:04.160
افتح اقواس ايضا Bitmap

00:09:05.020 --> 00:09:05.540
تساوي

00:09:06.047 --> 00:09:06.559
bitmap

00:09:06.820 --> 00:09:10.480
eventargs.frame.clone

00:09:10.560 --> 00:09:13.540
ونفتح اقواس هنا و نقوم باغلاق هذا السطر

00:09:13.720 --> 00:09:17.760
الان بعد ان يتم التقاط  frame

00:09:18.080 --> 00:09:19.880
يجب علينا ان نقوم

00:09:20.127 --> 00:09:22.687
بتشغيل الباركود ريدر

00:09:22.943 --> 00:09:24.223
حتى نتمكن من

00:09:24.480 --> 00:09:25.580
اسخلاص الباركود منه

00:09:25.760 --> 00:09:31.640
نقوم بانشاء متغير من نوع باركود ريدر ونسميه مثلا ايضا باركود

00:09:32.927 --> 00:09:33.439
ريدر

00:09:33.695 --> 00:09:35.487
او نسميه فقط ريدر

00:09:36.511 --> 00:09:38.047
لا داعي للاطاله في الاسماء

00:09:38.303 --> 00:09:40.095
و سوف يساوي

00:09:40.360 --> 00:09:42.840
نيو باركود ريدر

00:09:43.320 --> 00:09:45.220
نقوم الان بانشاء متغير جديد

00:09:45.727 --> 00:09:51.871
هذا المتغير الجديد سيكون عباره عن النتيجه التي سيحصل عليها الباركود ريدر

00:09:52.127 --> 00:09:56.223
في حال تم العثور على باركود بداخلbitmap هذه

00:09:56.479 --> 00:09:57.247
التي تم انشاءها

00:09:57.759 --> 00:09:59.807
يجب عليه ان يقوم بحفظها

00:10:00.063 --> 00:10:03.391
سنقوم بانشاء متغير لحفظ هذه النتيجه بداخل

00:10:04.159 --> 00:10:05.439
سنقوم بانشاء

00:10:05.695 --> 00:10:09.279
مثلا var ونسميه مثلا result

00:10:10.300 --> 00:10:13.120
وهذه النتيجة ستكون هي

00:10:13.300 --> 00:10:16.040
reader.decode

00:10:16.960 --> 00:10:18.760
لل bitmap

00:10:19.007 --> 00:10:20.799
نقوم بفتح اقواس ونضع بداخلها

00:10:21.311 --> 00:10:21.823
bitmap

00:10:22.079 --> 00:10:22.847
هذه

00:10:23.103 --> 00:10:23.871
نسخ

00:10:24.127 --> 00:10:24.895
control + c

00:10:25.151 --> 00:10:25.663
control + v

00:10:25.919 --> 00:10:27.711
وهنا نسينا وضع

00:10:28.479 --> 00:10:29.247
يساوي

00:10:31.039 --> 00:10:31.807
الان سنضع

00:10:32.063 --> 00:10:38.207
شرطا في حال كان result يساوي لا شيء او يكون فارغا او اذا لم

00:10:38.463 --> 00:10:43.583
فارغه او كان يساوي قيمه معينه نضع شرط if

00:10:43.839 --> 00:10:45.375
if result !=null

00:10:46.660 --> 00:10:51.020
هنا في هذه الحال يجب ان يعرض النتيجه بداخل

00:10:51.180 --> 00:10:52.240
textbox1

00:10:52.420 --> 00:10:55.600
لكن يجب علينا استخدام invoke method.

00:10:55.880 --> 00:10:58.500
حتى يتم عرضها بدون مشاكل

00:10:59.020 --> 00:11:00.480
اذا textbox1

00:11:00.735 --> 00:11:05.087
وهي خاصه بعرض الباركود سنقوم بوضع بداخلها الباركود

00:11:05.340 --> 00:11:07.960
textbox1.invoke

00:11:08.160 --> 00:11:13.540
ونقوم بفتح اقواس من اجل method التابع ل invoke اذاً

00:11:13.800 --> 00:11:15.480
new methodeInvoker

00:11:15.840 --> 00:11:16.580
ونفتح اقواس

00:11:16.860 --> 00:11:18.140
delegate

00:11:19.680 --> 00:11:21.660
ونفتح اقواس

00:11:22.760 --> 00:11:23.780
ونضغط انتر

00:11:24.040 --> 00:11:25.060
ونقوم بفتح

00:11:25.560 --> 00:11:27.400
اقواس بهذا الشكل

00:11:27.620 --> 00:11:29.400
ونغلق هذه

00:11:30.180 --> 00:11:31.980
الان هنا سنضع

00:11:32.220 --> 00:11:34.600
textbox1.text

00:11:34.780 --> 00:11:37.340
وسوف يساوي result

00:11:37.600 --> 00:11:39.160
.tostring

00:11:39.900 --> 00:11:41.700
الان بقي لدينا ان نضع

00:11:41.951 --> 00:11:44.255
الصوره التي سيتم التقاطها

00:11:44.760 --> 00:11:46.460
بداخل pictureBox1

00:11:46.760 --> 00:11:53.060
pictureBox1.image = bitmap

00:11:54.500 --> 00:11:57.380
نقوم الان بالتشغيل لنرى  ماذا سيحدث

00:11:58.340 --> 00:12:04.480
عند اختيار كاميرا ساختار هذه الكاميرا وساقوم بالضغط على التشغيل هنا لاحظ يتم

00:12:04.735 --> 00:12:07.807
عرض الكاميرا لكن هنا صوره الكاميرا غير واضحه

00:12:08.063 --> 00:12:13.183
وايضا هناك لدينا مشكله انه عندما نقوم باغلاق هذا البرنامج

00:12:13.695 --> 00:12:14.463
فانه

00:12:14.975 --> 00:12:18.303
لا يزال قيد التشغيل او ان الكاميرا لازالت

00:12:18.559 --> 00:12:20.607
تعمل نقوم بايقافها من هنا

00:12:21.375 --> 00:12:27.519
ونقوم بايقاف تشغيل الكاميرا عندما يتم انهاء البرنامج او عندما يتم الضغط

00:12:27.775 --> 00:12:28.543
على اغلاق

00:12:28.799 --> 00:12:30.591
نعود الى المشروع

00:12:31.103 --> 00:12:32.895
نعود الى الفورم ثم

00:12:33.407 --> 00:12:37.759
نحدد هذا الفورم ومن الحدث الخاص بهذا الفورم

00:12:38.280 --> 00:12:40.280
form closing

00:12:40.500 --> 00:12:44.040
او عند اغلاق هذا الفور نضغط ضغطة مزدوجة

00:12:44.920 --> 00:12:47.260
ونقوم ايضا

00:12:47.740 --> 00:12:51.580
بايقاف تشغيل الكاميرا عندما يتم اغلاق الفورم

00:12:51.840 --> 00:12:56.660
videocap.stop();

00:12:57.720 --> 00:12:59.260
الان سنقوم بالتشغيل

00:12:59.775 --> 00:13:01.055
لنرى ماذا سيحدث

00:13:01.311 --> 00:13:03.103
تم تشغيل البرنامج

00:13:03.359 --> 00:13:07.199
وسوف اقوم  بتحديد الكاميرا هذه الكاميرا ثم تشغيل

00:13:07.711 --> 00:13:09.759
سيتم عرض الكاميرا الان

00:13:10.015 --> 00:13:10.527
ساقوم بعرض

00:13:10.780 --> 00:13:12.000
باركود على الشاشة

00:13:12.180 --> 00:13:14.220
مثلا هذا الباركود

00:13:14.620 --> 00:13:15.900
تم قراءته

00:13:16.160 --> 00:13:19.500
ووضعه داخل textbox

00:13:19.740 --> 00:13:22.560
اذا البرنامج يعمل دون مشاكل

00:13:23.071 --> 00:13:27.423
الى هنا ارجو ان يكون الشرح واضحا وسهلا وان يكون قد نال اعجابكم

00:13:27.423 --> 00:13:29.320
شكرا والى اللقاء

